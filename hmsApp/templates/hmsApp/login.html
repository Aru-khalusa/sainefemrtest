{% extends "hmsApp/base.html" %}
{% block title %}Login{% endblock title %}

{% block styles %}

    .card { 
        width: 40% !important;
    }
    .card h1 {
        color: #0000a8;
    }
    .card a {
        text-decoration: none;
    }


{% endblock styles %}

{% block content %}
    <section id="login">
        <div class="login ms-auto me-auto my-5">
            <div class="container mt-5">
                <div class="row justify-content-center">
                    <div class="col-lg-12 col-md-12 col-sm-12">
                        <div class="card shadow p-3 mx-auto mt-5">
                            {% comment %} {% if user.is_authenticated and user.is_superuser %}
                                <h1 class="h3">Hello {{ user.first_name }}!</h1>
                                {% url 'patient' %}
                            {% else %}
                                {% if user.is_authenticated and user.is_staff %}
                                    {% url 'vitals' %}
                                {% else %}
                                    {% url 'diagnose' %}
                                {% endif %} {% endcomment %}

                            <div class="card-title text-center border-bottom mt-3">

                            {% if user.is_authenticated %}
                                <h2>You are already logged in as {{ user.username }}!</h2>
                                {% if user.is_staff %}
                                    {% if user.is_superuser %}
                                       <a href="{% url 'patient'%}">Go to Home</a>
                                    {% else %}
                                        <a href="{% url 'vitals'%}">Go to Home</a>
                                    {% endif %}
                                {% else %}
                                    <a href="{% url 'diagnose'%}">Go to Home</a>
                                {% endif %}
                            
                            {% else %}
                                <h1 class="p-3">Login</h1>
                            </div>
                            <div class="card-body">
                                <form action="" method="post">
                                    {% csrf_token %}
                                    <div class="form-floating mb-4">
                                        <input type="text" class="form-control" placeholder="Email" name="username">
                                        <label for="floatingInput">Username</label>
                                    </div>
                                    <div class="form-floating mb-4">
                                        <input type="password" class="form-control" placeholder="Password" name="password" required>
                                        <label for="floatingInput">Password</label>
                                    </div>
                                    
                                    <div class="d-grid justify-content-center mb-4">
                                        <button type="submit" class="btn btn-primary text-light">Login</button>
                                    </div>
                                </form>
                                                            
                            {% endif %}

                            </div>
                            


                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
{% endblock content %}
